@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-inter, Inter, Arial, Helvetica, sans-serif);
}

/* --------- TABLE & PROSE OVERRIDES --------- */
.prose table {
  @apply min-w-full mt-10 bg-white border border-gray-200;
  box-shadow: none !important;
  border-radius: 0 !important;
  overflow: hidden;
}
.prose th {
  @apply bg-indigo-50 text-indigo-900 px-6 py-5 font-bold text-lg text-left;
}
.prose td {
  @apply px-6 py-5 border-t border-gray-200 text-gray-800 align-middle text-base;
  vertical-align: middle !important;
}
.prose tr {
  @apply odd:bg-gray-50 hover:bg-indigo-50/40 transition-colors duration-150;
}
.prose tr:last-child td:first-child,
.prose tr:last-child td:last-child {
  border-radius: 0 !important;
}
.prose h1 {
  @apply text-center;
}
.prose .overflow-x-auto {
  @apply -mx-4 sm:-mx-0;
  margin-top: 0 !important; /* Remove gap above tables by default */
  position: relative;
  overflow-x: auto !important;
}

/* ===== Scroll hint: fade and arrow (fixed for background color) ===== */
.prose .overflow-x-auto::after {
  content: '';
  position: absolute;
  top: 0; right: 0; width: 2.5rem; height: 100%;
  pointer-events: none;
  z-index: 2;
  background: linear-gradient(to left, #fff 80%, rgba(255,255,255,0) 100%);
  display: block;
}
.prose .overflow-x-auto::before {
  content: 'â†’';
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.6rem;
  color: #b5b5b5;
  z-index: 3;
  opacity: 0.7;
  pointer-events: none;
  text-shadow: 0 0 6px #fff;
}

@media (prefers-color-scheme: dark) {
  .prose .overflow-x-auto::after {
    background: linear-gradient(to left, #0a0a0a 80%, rgba(10,10,10,0) 100%);
  }
  .prose .overflow-x-auto::before {
    color: #999;
    text-shadow: 0 0 8px #0a0a0a;
  }
}

/* Keep old box-shadow & border-radius removal for consistency */
.prose table,
.prose th,
.prose td {
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* Force all first and last td/th in each row to have padding (for edge cases) */
.prose table tr > td:first-child,
.prose table tr > th:first-child {
  padding-left: 1.5rem !important;  /* px-6 */
}
.prose table tr > td:last-child,
.prose table tr > th:last-child {
  padding-right: 1.5rem !important; /* px-6 */
}
@media (max-width: 640px) {
  .prose th, .prose td {
    @apply px-3 py-3 text-sm;
  }
  .prose table tr > td:first-child,
  .prose table tr > th:first-child,
  .prose table tr > td:last-child,
  .prose table tr > th:last-child {
    padding-left: 0.75rem !important;   /* px-3 */
    padding-right: 0.75rem !important;  /* px-3 */
  }
}

/* ===== FIX: Remove unwanted gap above/below table after heading ===== */

/* For your exact structure: h2 + div > .overflow-x-auto > table */
.prose h1 + div,
.prose h2 + div,
.prose h3 + div,
.prose h4 + div,
.prose h5 + div,
.prose h6 + div {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Remove margin/padding from the inner overflow-x-auto directly after the div */
.prose h1 + div > .overflow-x-auto,
.prose h2 + div > .overflow-x-auto,
.prose h3 + div > .overflow-x-auto,
.prose h4 + div > .overflow-x-auto,
.prose h5 + div > .overflow-x-auto,
.prose h6 + div > .overflow-x-auto {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Remove margin/padding from the table itself (above and below) */
.prose h1 + div > .overflow-x-auto > table,
.prose h2 + div > .overflow-x-auto > table,
.prose h3 + div > .overflow-x-auto > table,
.prose h4 + div > .overflow-x-auto > table,
.prose h5 + div > .overflow-x-auto > table,
.prose h6 + div > .overflow-x-auto > table {
  margin-top: 0 !important;
  padding-top: 0 !important;
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}
